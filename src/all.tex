\documentclass[a4paper,nobib,xelatex]{tufte-handout}

\usepackage[ddmmyyyy]{datetime}
\renewcommand{\dateseparator}{.}

\usepackage{fontspec}
\setmonofont[Mapping=tex-text,Scale]{Iosevka}

\usepackage{hyperref}
\newcommand{\hrefootnote}[2]{\href{#1}{#2}\footnote{\url{#1}}}

\usepackage[colorinlistoftodos,prependcaption,textsize=small]{todonotes}
\newcommand{\todocolor}[3]{%
  \todo[backgroundcolor=#1!50,bordercolor=#1,linecolor=#1]{#3}%
  \message{#2: #3}%
}
\newcommand{\todor}[1]{\todocolor{red}{FIXME}{#1}}
\newcommand{\todoo}[1]{\todocolor{orange}{TODO}{#1}}

\usepackage{dirtytalk}

\usepackage[outputdir=../docs]{minted}
\usemintedstyle{tango}
\setminted{baselinestretch=1,fontsize=\small,autogobble}

\newmintedfile[inputbash]{bash}{linenos,fontsize=\small}
\newmintinline[bash]{bash}{}
\newmintinline[elisp]{elisp}{}
\newmintinline[fish]{fish}{}
\newmintinline[hs]{haskell}{}
\newmintinline[nix]{nix}{}
\newmintinline[py]{python}{}
\newmintinline[yaml]{yaml}{}

\makeatletter
\hypersetup{
  pdffitwindow=true,
  pdfstartview={FitH},
  pdfsubject={Track the publish dates of your favorite comics},
  pdfkeywords={comics, calendar, Haskell, Nix, Noweb, LaTeX},
  pdfinfo={
    CreationDate={D:20191123162411},
    ModificationDate={D:\pdfdate},
  },
  colorlinks=true
}
\makeatother

\usepackage{noweb}
\noweboptions{smallcode,shortxref,hideunuseddefs,noidentxref,nomargintag,webnumbering}

\setlength\parindent{0pt}

\title{ComiCal}
\author{Eric Bailey}

\date{%
  23 November, 2019
  \thanks{Last updated \today}%
}

\begin{document}

\maketitle

\input{flake}

\input{emacs}

\input{haskell}

\begin{multicols}{2}[\section{Chunks}]
  \nowebchunks
\end{multicols}

\begin{multicols}{2}[\section{Index}]
  \nowebindex
\end{multicols}

\end{document}
